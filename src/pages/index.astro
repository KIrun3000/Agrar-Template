---
import Layout from '~/layouts/PageLayout.astro';

import Hero from '~/components/widgets/Hero.astro';
import Content from '~/components/widgets/Content.astro';
import Stats from '~/components/widgets/Stats.astro';
import Features2 from '~/components/widgets/Features2.astro';
import CallToAction from '~/components/widgets/CallToAction.astro';
import Contact from '~/components/widgets/Contact.astro';
import { ANGEBOTE } from '~/data/angebote';
import placeholderObj from '~/assets/images/placeholders/placeholder-objekt.jpg';

const metadata = {
  title: 'Voß Agrarimmobilien – Agrar- und Forstimmobilien',
  description:
    'Diskrete Vermarktung von Ackerland, Grünland, Wald und Agrarbetrieben in Deutschland und der EU. Seit über 15 Jahren Ihr Partner für professionelle Vermittlung.',
  ignoreTitleTemplate: true,
};
---

<Layout metadata={metadata}>
  <Hero
    id="start"
    actions={[
      { variant: 'primary', text: 'Kaufen', href: '/angebote' },
      { text: 'Verkaufen', href: '/kontakt' },
    ]}
    bg={
      `<div class="absolute inset-0">
        <video
          class="w-full h-full object-cover"
          autoplay
          muted
          loop
          playsinline
          poster="/media/167754-838892766_medium.mp4"
        >
          <source src="/media/167754-838892766_medium.webm" type="video/webm" />
          <source src="/media/167754-838892766_medium.mp4" type="video/mp4" />
        </video>
        <div class="absolute inset-0 bg-gradient-to-b from-black/60 via-black/55 to-black/70"></div>
      </div>`
    }
  >
    <Fragment slot="title">Agrar- und Forstimmobilien – Ihr spezialisierter Makler für große Flächen</Fragment>
    <Fragment slot="subtitle">
      Diskrete Vermarktung von Ackerland, Grünland, Wald und Agrarbetrieben in Deutschland und der EU. Seit über 15
      Jahren Ihr Partner für professionelle Vermittlung.
    </Fragment>
  </Hero>

  <section id="highlights" class="px-6 sm:px-6 py-12 sm:py-16 lg:py-20 mx-auto max-w-6xl">
    <div class="flex flex-col sm:flex-row sm:items-end sm:justify-between gap-4 mb-8">
      <div>
        <p class="text-sm uppercase tracking-wide text-secondary">Aktuelle Highlights</p>
        <h2 class="text-3xl font-bold">Aktuelle Highlights</h2>
        <p class="text-muted mt-2 max-w-3xl">
          Ausgewählte Angebote aus unserem Portfolio. Viele weitere Objekte vermarkten wir diskret außerhalb dieser
          Website – sprechen Sie uns auf Ihre Wünsche an.
        </p>
      </div>
      <a class="btn-secondary self-start" href="/angebote">Alle Angebote ansehen</a>
    </div>

    {
      (() => {
        const placeholderImage = placeholderObj.src;
        const highlightOffers = ANGEBOTE.filter((a) => a.status === 'Neu').slice(0, 5);

        return (
          <>
            <div class="grid gap-4 sm:gap-5 grid-cols-1 xs:grid-cols-2 lg:grid-cols-4 xl:grid-cols-5">
              {highlightOffers.map((angebot) => {
                const statusClass =
                  angebot.status === 'Neu'
                    ? 'bg-emerald-100 text-emerald-700'
                    : angebot.status === 'Reserviert'
                      ? 'bg-amber-100 text-amber-700'
                      : 'bg-slate-200 text-slate-600';

                return (
                  <a
                    class="group border border-gray-200 dark:border-gray-800 rounded-xl p-3 bg-white dark:bg-slate-900 shadow-sm flex flex-col gap-2 transition-transform duration-150 hover:-translate-y-1"
                    href={`/angebote/${angebot.slug}`}
                  >
                    <div class="relative">
                      <img
                        src={angebot.image || placeholderImage}
                        alt={angebot.beschreibungKurz}
                        class="w-full h-32 object-cover rounded-lg"
                        loading="lazy"
                      />
                      <span
                        class={`absolute top-2 left-2 inline-flex rounded-full px-2 py-0.5 text-xs ${statusClass} backdrop-blur`}
                      >
                        {angebot.status}
                      </span>
                    </div>
                    <div class="flex items-center justify-between">
                      <p class="text-xs font-mono text-slate-500">{angebot.id}</p>
                      <span class="text-xs text-muted">{angebot.typ}</span>
                    </div>
                    <h3 class="text-base font-semibold leading-snug group-hover:underline">
                      {angebot.beschreibungKurz}
                    </h3>
                    <p class="text-xs text-slate-600 dark:text-slate-400">
                      {angebot.bundesland}
                      {angebot.regionKurz && ` · ${angebot.regionKurz}`}
                    </p>
                    <p class="text-xs text-slate-600 dark:text-slate-400">
                      {angebot.flaecheGesamtHa} ha · {angebot.typ}
                      {angebot.bodenpunkteKern && ` · ca. ${angebot.bodenpunkteKern} BP`}
                      {angebot.niederschlagMm && ` · ca. ${angebot.niederschlagMm} mm`}
                    </p>
                    <p class="text-sm font-semibold text-default">{angebot.kaufpreisText}</p>
                  </a>
                );
              })}
            </div>
            <div class="mt-8 flex justify-center">
              <a class="btn-secondary" href="/angebote">Alle Angebote anzeigen</a>
            </div>
          </>
        );
      })()
    }
  </section>

  <Content
    id="verkaeufer"
    tagline="Für Verkäufer"
    title="Für Verkäufer"
    items={[
      {
        title: 'Unsere Leistungen',
        description:
          '• Marktgerechte Bewertung auf Basis von Bodenpunkten, Pachtstrukturen und regionaler Nachfrage\n• Diskrete Vermarktung über unser Investoren- und Käufernetzwerk, oft ohne öffentliche Ausschreibung\n• Strukturierte Käuferauswahl und professionelle Begleitung bis zum Abschluss\n• Erfahrung mit Betriebsnachfolgen, Vermögensstrukturierung und Verkauf arrondierter Großflächen\n\nGerne geben wir Ihnen eine erste, unverbindliche Einschätzung Ihrer Fläche.',
      },
    ]}
    image={{ src: '~/assets/images/placeholders/placeholder-verkaeufer.jpg', alt: '[BILD_VERKAEUFER]' }}
  >
    <Fragment slot="content">
      Sie planen den Verkauf von Ackerland, Grünland, Wald oder eines gesamten Agrarbetriebs? Wir begleiten Sie diskret
      und strukturiert durch den gesamten Prozess – von der ersten Bewertung bis zum Notartermin.
    </Fragment>
  </Content>

  <Content
    id="investoren"
    isReversed
    tagline="Für Investoren"
    title="Für Investoren"
    items={[
      {
        title: 'Investment-Profile',
        description:
          '• Strukturierte Datenräume mit Bodenqualität (BP), Niederschlagsdaten, Pachtverträgen und Ertragsprognosen\n• Objekte mit klaren Renditestrukturen – viele langfristig verpachtet mit Pachtrenditen von 2,5-3,5%\n• Zugang zu Off-Market-Beständen, die nicht öffentlich ausgeschrieben werden\n• Spezialisierung auf Family Offices, institutionelle Investoren und vermögende Privatanleger\n\nHinterlegen Sie Ihr Suchprofil – wir informieren Sie frühzeitig über passende Angebote.',
      },
    ]}
    image={{ src: '~/assets/images/placeholders/placeholder-investoren.jpg', alt: '[BILD_INVESTOREN]' }}
  >
    <Fragment slot="content">
      Sie suchen nach langfristigen Investments in Agrarflächen, Wald oder Agrarbetriebe? Wir vermitteln Objekte im In-
      und Ausland – von mittelgroßen Flächen in Deutschland bis zu Großbetrieben mit mehreren tausend Hektar in
      Rumänien, Tschechien oder Lettland.
    </Fragment>
  </Content>

  <Stats
    id="trust"
    stats={[
      { title: 'Hektar vermittelt (letzte 3 Jahre)', amount: '2.500+' },
      { title: 'Jahre Markterfahrung', amount: '15' },
      { title: 'Länder & Regionen', amount: '8' },
      { title: 'Durchschnittliche Antwortzeit', amount: '< 48h' },
    ]}
  />

  <Features2
    id="regionen"
    tagline="Regionen & Länder"
    title="Regionen & Länder"
    subtitle="Wir vermitteln Agrarflächen und Betriebe in ausgewählten Regionen Deutschlands und der EU mit Fokus auf Nord- und Ostdeutschland sowie Osteuropa."
    items={[
      {
        title: 'Mecklenburg-Vorpommern',
        description: 'Große Ackerflächen ab 50 ha, strukturstarke Betriebe, BP 40-70',
        icon: 'flat-color-icons:gallery',
        callToAction: { text: 'Mehr erfahren', href: '/regionen/mecklenburg-vorpommern' },
      },
      {
        title: 'Brandenburg',
        description: 'Arrondierte Flächen, Gutshöfe, Wald- und Jagdimmobilien, Berlin-nah',
        icon: 'flat-color-icons:approval',
        callToAction: { text: 'Mehr erfahren', href: '/regionen/brandenburg' },
      },
      {
        title: 'Sachsen-Anhalt',
        description: 'Hochwertige Schwarzerdeböden, BP 60-90, Hochertragsstandorte',
        icon: 'flat-color-icons:document',
        callToAction: { text: 'Mehr erfahren', href: '/regionen/sachsen-anhalt' },
      },
      {
        title: 'Rumänien',
        description: 'Großbetriebe 500-5.000 ha, Schwarzerde, BP 80-100, mechanisiert',
        icon: 'flat-color-icons:gallery',
        callToAction: { text: 'Mehr erfahren', href: '/laender/rumaenien' },
      },
      {
        title: 'Tschechien',
        description: 'Strukturierte Betriebe, EU-Rechtsrahmen, stabile Pachterträge',
        icon: 'flat-color-icons:approval',
        callToAction: { text: 'Mehr erfahren', href: '/laender/tschechien' },
      },
      {
        title: 'Lettland',
        description: 'Aufstrebender Markt, moderate Preise, EU-Mitglied seit 2004',
        icon: 'flat-color-icons:document',
        callToAction: { text: 'Mehr erfahren', href: '/laender/lettland' },
      },
      {
        title: 'Thüringen',
        description: 'Mittelgebirgslagen, Acker/Grünland-Mix, Forstflächen',
        icon: 'flat-color-icons:gallery',
        callToAction: { text: 'Mehr erfahren', href: '/regionen/thueringen' },
      },
      {
        title: 'Portugal',
        description: 'Agroforstsysteme, Weinbau, touristische Entwicklungspotenziale',
        icon: 'flat-color-icons:approval',
        callToAction: { text: 'Mehr erfahren', href: '/laender/portugal' },
      },
    ]}
  />

  <Content
    id="ueber-uns"
    title="Über uns"
    items={[
      {
        title: 'Unsere Arbeitsweise',
        description:
          'Wir arbeiten eng mit Eigentümern, Family Offices und institutionellen Investoren zusammen. Viele unserer Mandate werden nicht öffentlich ausgeschrieben, sondern über unser Netzwerk diskret platziert.\n\n**Kernkompetenzen:**\n• Due Diligence und Bewertung von Agrarflächen\n• Diskrete Vermarktung großer Einheiten (oft > 100 ha)\n• Internationale Mandate (Deutschland, Rumänien, Tschechien, Lettland, Portugal)\n• Begleitung von Betriebsnachfolgen und Vermögensumstrukturierungen',
      },
    ]}
  >
    <Fragment slot="content">
      Seit über 15 Jahren sind wir als spezialisierter Makler für Agrar- und Forstimmobilien tätig. Unser Schwerpunkt
      liegt auf großen Flächen und komplexen Betriebsstrukturen – diskret, strukturiert und mit tiefem Marktverständnis.
    </Fragment>
  </Content>

  <CallToAction
    id="cta"
    actions={[
      { variant: 'primary', text: 'Mehr erfahren', href: '/ueber-uns' },
      { text: 'Kontakt aufnehmen', href: '/kontakt' },
    ]}
  >
    <Fragment slot="title">Interesse geweckt?</Fragment>
    <Fragment slot="subtitle">
      Kontaktieren Sie uns für ein unverbindliches Erstgespräch oder fordern Sie weitere Informationen zu unseren
      aktuellen Angeboten an.
    </Fragment>
  </CallToAction>

  <Contact
    id="kontakt"
    tagline="Kontakt aufnehmen"
    title="Kontakt aufnehmen"
    subtitle="Sie haben Fragen zu einem Objekt oder möchten eine Ersteinschätzung für Ihre Fläche? Kontaktieren Sie uns – wir melden uns innerhalb von 48 Stunden."
    inputs={[
      { label: 'Name', name: 'name', type: 'text', placeholder: '[NAME]' },
      { label: 'E-Mail', name: 'email', type: 'email', placeholder: '[EMAIL]', autocomplete: 'email' },
      { label: 'Telefon', name: 'phone', type: 'tel', placeholder: '[TELEFON_OPTIONAL]' },
      { label: 'Projektbezug', name: 'projekt', type: 'text', placeholder: '[PROJEKTBEZUG_DROPDOWN]' },
    ]}
    textarea={{ label: 'Nachricht', name: 'message', placeholder: '[NACHRICHT]' }}
    button="Anfrage senden"
    description="Formular-Endpoint muss konfiguriert werden."
  />
</Layout>
